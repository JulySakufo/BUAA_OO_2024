# 第四单元随笔

同一本书，任何一个人只会持有一本，他不是傻瓜，不会借很多本书让别人也看不成。

- 查询：无任何变化

- 还书：student关于这本书的数量减少，reservationDesk关于这本书的数量增多

- 借书：

  - 如果要借的书没有余本或者是A类，直接打印借阅失败信息。
  - 如果是B类或者C类，就将书先取到借还处
    - 如果可借，student从借还处取走
    - 如果不可借，书留在借还处

- 预约：

  - A，有一个B，有相同C，都失败
  - 在手上没有B类书的情况下，B类书可以预约任意数量
  - C类书可以预约手上没有的书的任意数量
  - 在开馆后或者闭馆后将预约的书送至预约处。采用(书架->预约处的思路)，也就是说在我的实现中，预约处拿书的位置只能是书架，而不是借还处。即整理的过程先是借还处->书架，之后再整理到预约处。即每次整理都要整理两次。(一次是借还处的书全部给书架，一次是书架上预约的书给预约处)
  - 感觉整理全部设置为闭馆整理好啊。操作比较统一，而且当天order的当天取不到书，得在第二天才能取到书。所以设置为闭馆整理好了。这样的话设置预约的时间也就确定了。使用localDate自带的方法即可。

  

### 第二次作业

借还处的图书如果是informal的，则先移动到漂流处，在漂流处检查counts，看是否达到2，如果没达到2就不移动了，否则再移动到书架，呈现出借还处->漂流处->书架的二级移动方式。